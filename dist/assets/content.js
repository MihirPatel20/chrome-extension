import{a as p,j as t,R as u,P as b,M as g,S as x}from"./sun.DdxfuJGb.js";const h={dark:{"--ytmusic-background":"#030303","--ytmusic-nav-bar":"#030303","--ytmusic-player-bar":"#000000","--ytmusic-text":"#ffffff","--ytmusic-subtitle":"#aaaaaa"},light:{"--ytmusic-background":"#ffffff","--ytmusic-nav-bar":"#ffffff","--ytmusic-player-bar":"#f5f5f5","--ytmusic-text":"#030303","--ytmusic-subtitle":"#606060"},sunset:{"--ytmusic-background":"#2d1b2d","--ytmusic-nav-bar":"#1a0f1a","--ytmusic-player-bar":"#1a0f1a","--ytmusic-text":"#ffd1dc","--ytmusic-subtitle":"#ffb6c1"}},k=()=>{const[r,o]=u.useState("dark"),[l,i]=u.useState(!1),c=s=>{const e=h[s],a=document.querySelector("ytmusic-app"),n=document.querySelector("ytmusic-nav-bar"),d=document.querySelector("ytmusic-player-bar"),m=document.querySelector("ytmusic-browse-response"),f=document.querySelector("ytmusic-tabs-bar");a&&(a.style.setProperty("--ytmusic-background",e["--ytmusic-background"]),a.style.setProperty("--ytmusic-text",e["--ytmusic-text"]),a.style.setProperty("--ytmusic-subtitle",e["--ytmusic-subtitle"]),a.style.backgroundColor=e["--ytmusic-background"]),n&&(n.style.backgroundColor=e["--ytmusic-nav-bar"]),d&&(d.style.backgroundColor=e["--ytmusic-player-bar"]),m&&(m.style.backgroundColor=e["--ytmusic-background"],m.style.color=e["--ytmusic-text"]),f&&(f.style.backgroundColor=e["--ytmusic-background"]),document.querySelectorAll("yt-formatted-string, .title").forEach(y=>{y.style.color=e["--ytmusic-text"]}),document.querySelectorAll(".subtitle").forEach(y=>{y.style.color=e["--ytmusic-subtitle"]}),o(s),chrome.storage.local.set({theme:s})};return u.useEffect(()=>{chrome.storage.local.get(["theme"],s=>{s.theme&&h[s.theme]&&c(s.theme)})},[]),u.useEffect(()=>{const s=(e,a,n)=>{if(e.type==="GET_THEME")return n({theme:r}),!0;if(e.type==="SET_THEME"&&e.theme)return c(e.theme),n({success:!0}),!0};return chrome.runtime.onMessage.addListener(s),()=>chrome.runtime.onMessage.removeListener(s)},[r]),u.useEffect(()=>{const s=new MutationObserver(()=>{c(r)}),e=document.querySelector("ytmusic-app");return e&&s.observe(e,{childList:!0,subtree:!0}),()=>s.disconnect()},[r]),t.jsx("div",{className:"fixed right-4 bottom-20 z-[9999]",children:t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>i(!l),className:"w-12 h-12 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:t.jsx(b,{className:"w-6 h-6 text-gray-700"})}),l&&t.jsxs("div",{className:"absolute bottom-14 right-0 bg-white rounded-lg shadow-lg p-2 flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>{c("dark"),i(!1)},className:"flex items-center gap-2 px-4 py-2 rounded hover:bg-gray-100",children:[t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{children:"Dark"})]}),t.jsxs("button",{onClick:()=>{c("light"),i(!1)},className:"flex items-center gap-2 px-4 py-2 rounded hover:bg-gray-100",children:[t.jsx(x,{className:"w-4 h-4"}),t.jsx("span",{children:"Light"})]}),t.jsxs("button",{onClick:()=>{c("sunset"),i(!1)},className:"flex items-center gap-2 px-4 py-2 rounded hover:bg-gray-100",children:[t.jsx(b,{className:"w-4 h-4"}),t.jsx("span",{children:"Sunset"})]})]})]})})},v=()=>new Promise(r=>{const o=()=>{document.querySelector("ytmusic-app")?r(!0):setTimeout(o,100)};o()}),j=async()=>{await v();const r=document.createElement("div");r.id="yt-music-theme-switcher",document.body.appendChild(r),p(r).render(t.jsx(k,{}))};j();
//# sourceMappingURL=content.js.map
